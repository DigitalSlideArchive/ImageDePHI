<!DOCTYPE html>
<html lang="en">

<head>
  <title>Select Directory</title>
  <meta name="description" content="ImageDePHI GUI" />
  <meta name="keywords" content="" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.1.96/css/materialdesignicons.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/daisyui@2.47.0/dist/full.css" rel="stylesheet" type="text/css" />
</head>

<body class="bg-base-300 flex justify-center min-h-screen">
  <div class="card bg-base-200 w-2/5 m-8">
    <div class="card-body">
      <div class="card-title flex justify-between">
        <span>Directory Selector</span>
        <form method="post" action="{{ url_for('redact') }}">
          <input type="hidden" value="{{ input_directory_data.directory }}" name="input_directory" />
          <input type="hidden" value="{{ output_directory_data.directory }}" name="output_directory" />
          <button type="submit" class="btn btn-primary btn-active">Select Current Directories</button>
        </form>
      </div>
      <div class="grow flex divide-x-2">
        <div class="basis-1/2 flex-none pr-8">{% include "InputSelectorWidget.html.j2" %}</div>
        <div class="basis-1/2 flex-none pl-8">{% include "OutputSelectorWidget.html.j2" %}</div>
        <div class=" basis-1/2 flex-none pl-8 ">
          <h2 class=" text-lg font-semibold">Output Directory</h2>
          <h3 class="mb-4 border-b-2">
            {% for bread_crumb in output_bread_crumbs %}
            <a class="text-blue-700 mr-1"
              href="/?input_directory={{ current_input|urlencode }}/&output_directory={{ bread_crumb|urlencode }}">
              {{ bread_crumb.name }}/
            </a>
            {% endfor %}
          </h3>
          <ul>
            {% for output in output_directories %}
            <li>
              <input type="radio" , id="{{ output_directory }}" , value="{{ output['directory_path'] }}" ,
                name="output_directory">
              <a class="text-blue-700"
                href="/?input_directory={{ current_input|urlencode }}/&output_directory={{ output['directory_path']|urlencode }}">
                {{ output['directory_path'].name }}/
              </a>
              <ul>
                {% for image in output['images'] %}
                <li>{{ image.name }}</li>
                {% endfor %}
              </ul>
            </li>
            {% endfor %}
          </ul>
          {# Should this be a user option on first pass? #}
          <input type="hidden" , id="{{ overwrite }}" , value="False" , name="overwrite" />
        </div>
      </div>
    </div>
</body>

</html>
